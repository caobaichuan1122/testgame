# ============================================================
#  Internationalization (i18n) — bilingual Chinese/English support
# ============================================================

LANG = {
    # ========================
    #  General UI
    # ========================
    "press_enter_start": {
        "en": "Press ENTER to start",
        "zh": "按 ENTER 开始游戏",
    },
    "paused": {
        "en": "PAUSED",
        "zh": "暂停",
    },
    "press_esc_resume": {
        "en": "Press ESC to resume",
        "zh": "按 ESC 继续",
    },
    "game_over": {
        "en": "GAME OVER",
        "zh": "游戏结束",
    },
    "press_enter_restart": {
        "en": "Press ENTER to restart",
        "zh": "按 ENTER 重新开始",
    },

    # --- Controls ---
    "controls_move": {
        "en": "WASD: Move",
        "zh": "WASD: 移动",
    },
    "controls_attack": {
        "en": "J: Attack  1/2/3: Combat mode",
        "zh": "J: 攻击  1/2/3: 切换战斗模式",
    },
    "controls_interact": {
        "en": "E: Interact  I: Inventory",
        "zh": "E: 交互  I: 背包",
    },
    "controls_quest": {
        "en": "Q: Quests  ESC: Pause",
        "zh": "Q: 任务  ESC: 暂停",
    },

    # ========================
    #  HUD
    # ========================
    "talk_to": {
        "en": "[E] Talk to {name}",
        "zh": "[E] 与 {name} 对话",
    },

    # ========================
    #  Inventory / Equipment
    # ========================
    "inventory": {
        "en": "INVENTORY",
        "zh": "背包",
    },
    "stats": {
        "en": "STATS",
        "zh": "属性",
    },
    "tab_switch": {
        "en": "[TAB: switch]",
        "zh": "[TAB: 切换]",
    },
    "gold_label": {
        "en": "Gold: {gold}",
        "zh": "金币: {gold}",
    },
    "empty": {
        "en": "(empty)",
        "zh": "(空)",
    },
    "equipped_label": {
        "en": "Equipped:",
        "zh": "已装备:",
    },
    "slot_none": {
        "en": "(none)",
        "zh": "(无)",
    },
    "use_equip_hint": {
        "en": "[J:Use/Equip] [K:Drop]",
        "zh": "[J:使用/装备] [K:丢弃]",
    },
    "level_label": {
        "en": "Level: {level}",
        "zh": "等级: {level}",
    },
    "xp_label": {
        "en": "XP: {xp}/{needed}",
        "zh": "经验: {xp}/{needed}",
    },
    "hp_label": {
        "en": "HP: {hp}/{max_hp}",
        "zh": "生命: {hp}/{max_hp}",
    },
    "mp_label": {
        "en": "MP: {mp}/{max_mp}",
        "zh": "魔力: {mp}/{max_mp}",
    },
    "str_label": {
        "en": "STR: {val}  (Melee dmg)",
        "zh": "力量: {val}  (近战伤害)",
    },
    "dex_label": {
        "en": "DEX: {val}  (Ranged dmg)",
        "zh": "敏捷: {val}  (远程伤害)",
    },
    "int_label": {
        "en": "INT: {val}  (Magic dmg)",
        "zh": "智力: {val}  (魔法伤害)",
    },
    "def_label": {
        "en": "DEF: {val}  (Damage reduction)",
        "zh": "防御: {val}  (减伤)",
    },
    "free_points": {
        "en": "Free points: {pts}",
        "zh": "可分配点数: {pts}",
    },
    "assign_points_hint": {
        "en": "[1:STR 2:DEX 3:INT 4:DEF]",
        "zh": "[1:力量 2:敏捷 3:智力 4:防御]",
    },

    # ========================
    #  Shop
    # ========================
    "shop": {
        "en": "SHOP",
        "zh": "商店",
    },
    "buy": {
        "en": "[BUY]",
        "zh": "[购买]",
    },
    "sell": {
        "en": "[SELL]",
        "zh": "[出售]",
    },
    "nothing_to_sell": {
        "en": "(nothing to sell)",
        "zh": "(没有可出售物品)",
    },
    "shop_hint": {
        "en": "[TAB:Switch] [J:Confirm] [ESC:Close]",
        "zh": "[TAB:切换] [J:确认] [ESC:关闭]",
    },
    "bought_item": {
        "en": "Bought {name}",
        "zh": "购买了 {name}",
    },
    "sold_for": {
        "en": "Sold for {price}G",
        "zh": "卖出 {price}G",
    },
    "not_enough_gold": {
        "en": "Not enough gold",
        "zh": "金币不足",
    },
    "item_not_found": {
        "en": "Item not found",
        "zh": "找不到物品",
    },
    "inventory_full": {
        "en": "Inventory full",
        "zh": "背包已满",
    },
    "dont_have_item": {
        "en": "You don't have this item",
        "zh": "你没有该物品",
    },

    # ========================
    #  Quest log
    # ========================
    "quest_log": {
        "en": "QUEST LOG",
        "zh": "任务日志",
    },
    "no_quests": {
        "en": "(No quests)",
        "zh": "(暂无任务)",
    },
    "quest_done": {
        "en": "[DONE]",
        "zh": "[完成]",
    },
    "quest_failed": {
        "en": "[FAILED]",
        "zh": "[失败]",
    },
    "quest_ready": {
        "en": "[READY]",
        "zh": "[可交付]",
    },
    "quest_new": {
        "en": "[NEW]",
        "zh": "[新任务]",
    },
    "reward_label": {
        "en": "Reward: {rewards}",
        "zh": "奖励: {rewards}",
    },

    # ========================
    #  Message log
    # ========================
    "message_log": {
        "en": "Message Log",
        "zh": "消息日志",
    },
    "chat_close_hint": {
        "en": "[T] Close  [Up/Down] Scroll",
        "zh": "[T] 关闭  [上/下] 滚动",
    },
    "no_messages": {
        "en": "No messages yet.",
        "zh": "暂无消息。",
    },
    "more_below": {
        "en": "v more below v",
        "zh": "v 更多内容 v",
    },
    "more_above": {
        "en": "^ more above ^",
        "zh": "^ 更多内容 ^",
    },
    "say_prompt": {
        "en": "Say: ",
        "zh": "发言: ",
    },
    "chat_send_hint": {
        "en": "[Enter] Send  [Esc] Cancel",
        "zh": "[Enter] 发送  [Esc] 取消",
    },
    "you_said": {
        "en": "You: {msg}",
        "zh": "你: {msg}",
    },

    # ========================
    #  Combat scene
    # ========================
    "wild_appears": {
        "en": "A wild {name} appears!",
        "zh": "野生的 {name} 出现了！",
    },
    "attack_for_dmg": {
        "en": "You attack for {dmg} damage!",
        "zh": "你造成了 {dmg} 点伤害！",
    },
    "crit_attack_for_dmg": {
        "en": "CRITICAL! You attack for {dmg} damage!",
        "zh": "暴击！你造成了 {dmg} 点伤害！",
    },
    "defend_stance": {
        "en": "You take a defensive stance.",
        "zh": "你摆出了防御姿态。",
    },
    "not_enough_mp": {
        "en": "Not enough MP!",
        "zh": "魔力不足！",
    },
    "skill_deals_dmg": {
        "en": "{skill} deals {dmg} damage!",
        "zh": "{skill} 造成了 {dmg} 点伤害！",
    },
    "crit_skill_deals_dmg": {
        "en": "CRITICAL! {skill} deals {dmg} damage!",
        "zh": "暴击！{skill} 造成了 {dmg} 点伤害！",
    },
    "mp_cost_suffix": {
        "en": " (-{cost} MP)",
        "zh": " (-{cost} MP)",
    },
    "no_usable_items": {
        "en": "No usable items!",
        "zh": "没有可用物品！",
    },
    "used_item_desc": {
        "en": "Used {name}! {desc}",
        "zh": "使用了 {name}！{desc}",
    },
    "used_fallback": {
        "en": "Used",
        "zh": "已使用",
    },
    "cannot_use_item": {
        "en": "Cannot use that item!",
        "zh": "无法使用该物品！",
    },
    "cannot_flee_boss": {
        "en": "Cannot flee from a Boss!",
        "zh": "无法从Boss战中逃跑！",
    },
    "fled_success": {
        "en": "You fled successfully!",
        "zh": "成功逃跑了！",
    },
    "fled_fail": {
        "en": "Failed to flee!",
        "zh": "逃跑失败！",
    },
    "enemy_defend": {
        "en": "{name} braces for defense!",
        "zh": "{name} 摆出了防御姿态！",
    },
    "enemy_attacks": {
        "en": "{name} attacks for {dmg} damage!",
        "zh": "{name} 造成了 {dmg} 点伤害！",
    },
    "victory": {
        "en": "Victory!",
        "zh": "胜利！",
    },
    "xp_gold_reward": {
        "en": "+{xp} XP  +{gold} Gold",
        "zh": "+{xp} 经验  +{gold} 金币",
    },
    "defeated": {
        "en": "You have been defeated...",
        "zh": "你被击败了……",
    },
    "victory_continue": {
        "en": "VICTORY! Press Enter to continue",
        "zh": "胜利！按 Enter 继续",
    },
    "defeated_continue": {
        "en": "DEFEATED! Press Enter...",
        "zh": "战败！按 Enter 继续……",
    },
    "escaped_continue": {
        "en": "Escaped! Press Enter...",
        "zh": "逃跑成功！按 Enter 继续……",
    },
    "round_num": {
        "en": "Round {n}",
        "zh": "第 {n} 回合",
    },
    "boss_prefix": {
        "en": "[BOSS] {name}",
        "zh": "[首领] {name}",
    },
    "actions_label": {
        "en": "Actions:",
        "zh": "行动:",
    },
    "skills_label": {
        "en": "Skills: (ESC to back)",
        "zh": "技能: (ESC 返回)",
    },
    "items_label": {
        "en": "Items: (ESC to back)",
        "zh": "物品: (ESC 返回)",
    },
    "no_items": {
        "en": "  No items",
        "zh": "  无物品",
    },
    "battle_log": {
        "en": "Battle Log:",
        "zh": "战斗日志:",
    },
    "mp_cost_tag": {
        "en": " [{cost} MP]",
        "zh": " [{cost} MP]",
    },
    "free_tag": {
        "en": " [Free]",
        "zh": " [免费]",
    },

    # --- Combat menu options (display) ---
    "opt_attack": {
        "en": "Attack",
        "zh": "攻击",
    },
    "opt_defend": {
        "en": "Defend",
        "zh": "防御",
    },
    "opt_skill": {
        "en": "Skill",
        "zh": "技能",
    },
    "opt_item": {
        "en": "Item",
        "zh": "物品",
    },
    "opt_flee": {
        "en": "Flee",
        "zh": "逃跑",
    },

    # --- Skill names ---
    "skill_slash": {
        "en": "Slash (STR)",
        "zh": "斩击 (力量)",
    },
    "skill_shot": {
        "en": "Shot (DEX)",
        "zh": "射击 (敏捷)",
    },
    "skill_magic": {
        "en": "Magic (INT)",
        "zh": "魔法 (智力)",
    },
    "skill_slash_short": {
        "en": "Slash",
        "zh": "斩击",
    },
    "skill_shot_short": {
        "en": "Shot",
        "zh": "射击",
    },
    "skill_magic_short": {
        "en": "Magic",
        "zh": "魔法",
    },

    # ========================
    #  Player messages
    # ========================
    "discovered": {
        "en": "Discovered: {name}",
        "zh": "发现了: {name}",
    },
    "discovered_area": {
        "en": "Discovered new area: {name}!",
        "zh": "发现了新区域: {name}！",
    },
    "got_item": {
        "en": "Got {name}",
        "zh": "获得了 {name}",
    },
    "level_up": {
        "en": "Level Up! Lv{level}",
        "zh": "升级了！Lv{level}",
    },
    "quest_complete_msg": {
        "en": "Quest Complete! +{xp}XP +{gold}G",
        "zh": "任务完成！+{xp}经验 +{gold}金币",
    },
    "quest_failed_msg": {
        "en": "Quest Failed!",
        "zh": "任务失败！",
    },
    "quest_failed_log": {
        "en": "Quest Failed: {name} - Time's up!",
        "zh": "任务失败: {name} - 时间到！",
    },
    "fully_healed": {
        "en": "Fully healed!",
        "zh": "完全恢复了！",
    },
    "not_enough_gold_short": {
        "en": "Not enough gold!",
        "zh": "金币不足！",
    },
    "healed_by_arwen": {
        "en": "Arwen restored your HP and MP with Elven grace.",
        "zh": "阿尔温以精灵的恩典恢复了你的生命与魔力。",
    },

    # ========================
    #  Game log
    # ========================
    "welcome_msg": {
        "en": "Welcome to the village! Talk to NPCs with [E]. Press [Enter] to chat. Look for ! and $ icons.",
        "zh": "欢迎来到村庄！按 [E] 与NPC对话，按 [Enter] 聊天。留意 ! 和 $ 标志。",
    },

    # ========================
    #  NPC bubbles / escort
    # ========================
    "escort_arrived": {
        "en": "We made it! Thank you!",
        "zh": "我们到了！谢谢你！",
    },
    "npc_arrived_dest": {
        "en": "{name} arrived at the destination!",
        "zh": "{name} 到达了目的地！",
    },

    # ========================
    #  Combat mode names
    # ========================
    "combat_sword": {
        "en": "Sword",
        "zh": "剑术",
    },
    "combat_bow": {
        "en": "Bow",
        "zh": "弓箭",
    },
    "combat_magic": {
        "en": "Magic",
        "zh": "魔法",
    },

    # ========================
    #  Quest hints (HUD bottom)
    # ========================
    "hint_timed": {
        "en": "{name}: {progress}/{required} ({secs}s)",
        "zh": "{name}: {progress}/{required} ({secs}秒)",
    },
    "hint_explore": {
        "en": "{name}: {progress}/{required} areas",
        "zh": "{name}: {progress}/{required} 个区域",
    },
    "hint_escort": {
        "en": "{name}: Escort in progress",
        "zh": "{name}: 护送进行中",
    },
    "hint_default": {
        "en": "{name}: {progress}/{required}",
        "zh": "{name}: {progress}/{required}",
    },
    "hint_complete": {
        "en": "{name}: Complete!",
        "zh": "{name}: 已完成！",
    },

    # ========================
    #  Item names
    # ========================
    "item_sting": {
        "en": "Sting",
        "zh": "针刺",
    },
    "item_anduril": {
        "en": "Anduril",
        "zh": "安都瑞尔",
    },
    "item_bow_galadhrim": {
        "en": "Bow of Galadhrim",
        "zh": "加拉德瑞姆之弓",
    },
    "item_wizards_staff": {
        "en": "Wizard's Staff",
        "zh": "巫师法杖",
    },
    "item_ranger_cloak": {
        "en": "Ranger Cloak",
        "zh": "游侠斗篷",
    },
    "item_mithril_coat": {
        "en": "Mithril Coat",
        "zh": "秘银铠甲",
    },
    "item_ring_barahir": {
        "en": "Ring of Barahir",
        "zh": "巴拉希尔之戒",
    },
    "item_elven_brooch": {
        "en": "Elven Brooch",
        "zh": "精灵胸针",
    },
    "item_orc_blood": {
        "en": "Orc Blood",
        "zh": "兽人之血",
    },
    "item_morgul_shard": {
        "en": "Morgul Shard",
        "zh": "魔窟碎片",
    },
    "item_miruvor": {
        "en": "Miruvor",
        "zh": "蜜酒",
    },
    "item_ent_draught": {
        "en": "Ent-draught",
        "zh": "树人之饮",
    },

    # ========================
    #  Item descriptions
    # ========================
    "desc_sting": {
        "en": "An ancient Elven blade that glows blue near Orcs.",
        "zh": "一把古老的精灵之刃，靠近兽人时泛蓝光。",
    },
    "desc_anduril": {
        "en": "Flame of the West, reforged from the shards of Narsil.",
        "zh": "西方之焰，由纳西尔圣剑碎片重铸而成。",
    },
    "desc_bow_galadhrim": {
        "en": "A graceful bow gifted by the Elves of Lothlorien.",
        "zh": "洛丝罗瑞恩精灵赠予的优雅之弓。",
    },
    "desc_wizards_staff": {
        "en": "A staff imbued with the power of the Istari.",
        "zh": "注入了伊斯塔瑞之力的法杖。",
    },
    "desc_ranger_cloak": {
        "en": "A weathered cloak worn by the Dunedain Rangers.",
        "zh": "杜内丹游侠穿戴的风霜斗篷。",
    },
    "desc_mithril_coat": {
        "en": "A coat of mithril rings, light as a feather.",
        "zh": "秘银环甲，轻若鸿毛。",
    },
    "desc_ring_barahir": {
        "en": "An ancient ring, heirloom of the House of Isildur.",
        "zh": "伊熙尔杜家族的古老传家之戒。",
    },
    "desc_elven_brooch": {
        "en": "A leaf-shaped brooch of Lorien, granting swiftness.",
        "zh": "罗瑞恩的叶形胸针，赋予敏捷。",
    },
    "desc_orc_blood": {
        "en": "Dark, foul blood of the enemy.",
        "zh": "敌人黑暗而污秽的鲜血。",
    },
    "desc_morgul_shard": {
        "en": "A cursed fragment from a Morgul blade.",
        "zh": "来自魔窟之刃的诅咒碎片。",
    },
    "desc_miruvor": {
        "en": "The cordial of Imladris, restoring the weary.",
        "zh": "伊姆拉缀斯的甘露，恢复疲惫的旅人。",
    },
    "desc_ent_draught": {
        "en": "A draught from the Ents of Fangorn, restoring spirit.",
        "zh": "法贡森林树人的饮品，恢复精神。",
    },

    # ========================
    #  NPC idle chat (bubble lines)
    # ========================
    # Gandalf
    "idle_gandalf_1": {
        "en": "A shadow grows in the East...",
        "zh": "一片阴影在东方蔓延……",
    },
    "idle_gandalf_2": {
        "en": "The Enemy is stirring once more.",
        "zh": "黑暗之敌再次蠢蠢欲动。",
    },
    "idle_gandalf_3": {
        "en": "Have you spoken to Boromir at the gate?",
        "zh": "你和门口的博罗米尔说过话了吗？",
    },
    "idle_gandalf_4": {
        "en": "All we have to decide is what to do with the time given to us.",
        "zh": "我们要做的，就是决定如何利用被赋予的时间。",
    },
    # Innkeeper
    "idle_barliman_1": {
        "en": "Welcome to the Prancing Pony!",
        "zh": "欢迎来到跃马旅店！",
    },
    "idle_barliman_2": {
        "en": "Best ale in all of Bree!",
        "zh": "布理最好的麦酒！",
    },
    "idle_barliman_3": {
        "en": "Need supplies for the road?",
        "zh": "需要旅途补给吗？",
    },
    # Gimli
    "idle_gimli_1": {
        "en": "Mithril and mountain-steel!",
        "zh": "秘银与山钢！",
    },
    "idle_gimli_2": {
        "en": "Finest Dwarven craftsmanship here.",
        "zh": "这里有最精良的矮人工艺。",
    },
    "idle_gimli_3": {
        "en": "My axe is not for sale, but these are!",
        "zh": "我的斧头不卖，但这些可以！",
    },
    # Arwen
    "idle_arwen_1": {
        "en": "The wounded need tending...",
        "zh": "伤者需要照料……",
    },
    "idle_arwen_2": {
        "en": "I require rare herbs for healing.",
        "zh": "我需要稀有草药来治愈伤员。",
    },
    "idle_arwen_3": {
        "en": "The grace of the Eldar sustains us.",
        "zh": "精灵族的恩典支撑着我们。",
    },
    "idle_arwen_4": {
        "en": "Orc blood, vile as it is, has medicinal uses.",
        "zh": "兽人之血虽然污秽，却有药用价值。",
    },
    # Boromir
    "idle_boromir_1": {
        "en": "Gondor has need of brave souls.",
        "zh": "刚铎需要勇敢的灵魂。",
    },
    "idle_boromir_2": {
        "en": "Report any enemy movement.",
        "zh": "请汇报任何敌军动向。",
    },
    "idle_boromir_3": {
        "en": "The borders grow ever more perilous.",
        "zh": "边境愈发危险。",
    },
    "idle_boromir_4": {
        "en": "I hear Orc drums in the deep...",
        "zh": "我听到了深处兽人的战鼓声……",
    },
    # Frodo
    "idle_frodo_1": {
        "en": "I wish the Ring had never come to me...",
        "zh": "我希望魔戒从未来到我身边……",
    },
    "idle_frodo_2": {
        "en": "Which way is the Shire?",
        "zh": "夏尔在哪个方向？",
    },
    "idle_frodo_3": {
        "en": "These fields stretch on forever.",
        "zh": "这片原野似乎永无尽头。",
    },
    "idle_frodo_4": {
        "en": "I hope we don't meet any Orcs.",
        "zh": "希望我们不会遇到兽人。",
    },
    # Sam
    "idle_sam_1": {
        "en": "I could do with a nice bit of fish...",
        "zh": "来一条鲜鱼就好了……",
    },
    "idle_sam_2": {
        "en": "Those Uruks scare all the fish away!",
        "zh": "那些乌鲁克把鱼都吓跑了！",
    },
    "idle_sam_3": {
        "en": "Po-ta-toes! Boil 'em, mash 'em, stick 'em in a stew.",
        "zh": "土豆！煮着吃、捣着吃、炖着吃。",
    },
    "idle_sam_4": {
        "en": "I miss the Shire something fierce.",
        "zh": "我太想念夏尔了。",
    },

    # ========================
    #  Dialogue (NPC dialogue tree text)
    # ========================
    # Gandalf default
    "dlg_gandalf_default": {
        "en": "Ah, a traveler! Middle-earth darkens, and we need all the help we can muster. Speak with me if you seek a quest.",
        "zh": "啊，一位旅人！中土世界日渐黑暗，我们需要一切能争取到的帮助。如果你想接任务，请与我交谈。",
    },
    # Orc quest
    "dlg_quest_orc_accept": {
        "en": "Orcs have overrun the Fields of Rohan to the east! Ride out and defeat 5 of them before they reach the Shire.",
        "zh": "兽人已经占领了东边的洛汗平原！出发击败5只兽人，阻止它们到达夏尔。",
    },
    "dlg_quest_orc_progress": {
        "en": "The Orc threat persists. Keep fighting — the Free Peoples depend on you!",
        "zh": "兽人的威胁仍在。继续战斗——自由人民依靠着你！",
    },
    "dlg_quest_orc_complete": {
        "en": "Well done! The fields are safer now. But a greater evil stirs in the Mines of Moria to the north...",
        "zh": "干得好！平原现在安全多了。但更大的邪恶正在北方的摩瑞亚矿洞中酝酿……",
    },
    # Boss quest
    "dlg_quest_boss_accept": {
        "en": "A Cave Troll lurks in the depths of Moria. Many have entered; none have returned. Will you face it?",
        "zh": "一只洞穴巨魔潜伏在摩瑞亚的深处。许多人进去了，无人生还。你敢面对它吗？",
    },
    "dlg_quest_boss_progress": {
        "en": "The Cave Troll still haunts Moria. Tread carefully in those dark halls!",
        "zh": "洞穴巨魔仍盘踞在摩瑞亚。在那些黑暗大厅中要小心行事！",
    },
    "dlg_quest_boss_complete": {
        "en": "The Troll is slain! Durin's folk would be proud. Take this mithril coat as your reward.",
        "zh": "巨魔被消灭了！都灵的子民会为你骄傲的。拿走这件秘银铠甲作为奖赏。",
    },
    # Innkeeper
    "dlg_barliman_default": {
        "en": "Welcome to the Prancing Pony! We've got provisions for any journey. What'll it be?",
        "zh": "欢迎来到跃马旅店！我们为各种旅途准备了补给。你需要什么？",
    },
    # Gimli
    "dlg_gimli_default": {
        "en": "Need arms forged by Dwarven hands? You'll find none finer this side of the Lonely Mountain.",
        "zh": "需要矮人锻造的武器吗？在孤山这边，你找不到比这更好的了。",
    },
    "dlg_gimli_weapons_info": {
        "en": "Sting for close quarters — an Elven blade, glows near Orcs. The Bow of Galadhrim for range. A Wizard's Staff channels the Istari's power.",
        "zh": "近战用针刺——一把精灵之刃，靠近兽人时发光。远程用加拉德瑞姆之弓。巫师法杖引导伊斯塔瑞之力。",
    },
    "dlg_gimli_best_weapon": {
        "en": "Depends on your foe. Anduril cleaves through armor up close. The Bow of Galadhrim lets you strike from afar. Choose wisely!",
        "zh": "取决于你的敌人。安都瑞尔近战可以劈开铠甲。加拉德瑞姆之弓让你远程打击。明智选择！",
    },
    # Arwen
    "dlg_arwen_default": {
        "en": "Mae govannen. I am Arwen of Rivendell. I can heal your wounds, or perhaps you could gather herbs for me?",
        "zh": "Mae govannen。我是瑞文戴尔的阿尔温。我可以治愈你的伤，或者你能帮我采集草药？",
    },
    "dlg_arwen_healed": {
        "en": "The light of the Evenstar shines upon you. Go now, renewed.",
        "zh": "暮星之光照耀着你。去吧，焕然一新。",
    },
    # Collect quest
    "dlg_quest_collect_accept": {
        "en": "I need 3 vials of Orc Blood for an Athelas remedy. The Orcs in the Fields of Rohan carry it. Will you help?",
        "zh": "我需要3瓶兽人之血来制作阿西拉斯药剂。洛汗平原上的兽人身上有。你愿意帮忙吗？",
    },
    "dlg_quest_collect_progress": {
        "en": "Still gathering? I need 3 vials of Orc Blood total. The Orcs roam the eastern fields.",
        "zh": "还在收集吗？我总共需要3瓶兽人之血。兽人在东边的平原游荡。",
    },
    "dlg_quest_collect_complete": {
        "en": "These will save many lives. The Elves of Rivendell thank you. Take these cordials as thanks!",
        "zh": "这些将挽救很多生命。瑞文戴尔的精灵感谢你。拿走这些甘露作为谢礼！",
    },
    # Boromir
    "dlg_boromir_default": {
        "en": "Hold! I am Boromir, Captain of the White Tower. Gondor needs scouts to survey the borderlands.",
        "zh": "站住！我是博罗米尔，白塔的首领。刚铎需要侦察兵勘察边境。",
    },
    "dlg_boromir_area_info": {
        "en": "Fangorn Forest to the northwest — ancient and perilous. The Mines of Moria to the north. And Mordor's wastes beyond the bridge to the southeast.",
        "zh": "西北是法贡森林——古老而危险。北方是摩瑞亚矿洞。桥的东南方是魔多荒原。",
    },
    # Explore quest
    "dlg_quest_explore_accept": {
        "en": "Scout these three regions for Gondor: Fangorn Forest, the Mines of Moria, and the Mordor Wastes. Report back when done.",
        "zh": "为刚铎侦察这三个区域：法贡森林、摩瑞亚矿洞和魔多荒原。完成后回来报告。",
    },
    "dlg_quest_explore_progress": {
        "en": "Have you explored all three? Fangorn, Moria, and the Mordor Wastes?",
        "zh": "三个区域都探索了吗？法贡森林、摩瑞亚和魔多荒原？",
    },
    "dlg_quest_explore_complete": {
        "en": "Excellent reconnaissance! Your intel will strengthen our defenses. Gondor rewards its allies well.",
        "zh": "出色的侦察！你的情报将加强我们的防御。刚铎厚待它的盟友。",
    },
    # Frodo
    "dlg_frodo_default": {
        "en": "Please... I've been separated from the Fellowship. Could you guide me back to Hobbiton?",
        "zh": "拜托……我和远征队失散了。你能带我回霍比屯吗？",
    },
    "dlg_frodo_tips": {
        "en": "Press 1/2/3 to switch combat modes. Melee hits hard, ranged is safe, magic costs MP but packs a punch.",
        "zh": "按 1/2/3 切换战斗模式。近战伤害高，远程安全，魔法消耗MP但威力强大。",
    },
    # Escort quest
    "dlg_quest_escort_accept": {
        "en": "Thank the Valar! Please lead me back to Hobbiton. I'll follow you as fast as my hobbit feet can carry me!",
        "zh": "感谢维拉！请带我回霍比屯。我会用霍比特人的小脚尽力跟上你的！",
    },
    "dlg_quest_escort_progress": {
        "en": "Are we there yet? My feet ache, but I'll keep up!",
        "zh": "到了吗？我的脚好疼，但我会跟上的！",
    },
    "dlg_quest_escort_complete": {
        "en": "The Shire at last! Oh, how I've missed it! Here, take this — you've earned it, friend.",
        "zh": "终于到夏尔了！我好想念这里！拿着这个——你值得拥有，朋友。",
    },
    # Sam
    "dlg_sam_default": {
        "en": "Begging your pardon, but those Uruk-hai across the bridge are scaring all the fish away!",
        "zh": "打扰了，但桥对面那些乌鲁克强兽人把鱼都吓跑了！",
    },
    "dlg_sam_mordor_info": {
        "en": "Uruk-hai archers patrol the wastes of Mordor. If someone could deal with a few of them quick-like, maybe the fish would come back...",
        "zh": "乌鲁克弓箭手在魔多荒原巡逻。如果有人能快点解决几个，也许鱼就会回来了……",
    },
    # Timed quest
    "dlg_quest_timed_accept": {
        "en": "Can you defeat 3 Uruk-hai archers in 60 seconds? Cross the bridge and hurry! Time starts now!",
        "zh": "你能在60秒内击败3个乌鲁克弓箭手吗？过桥快走！计时开始！",
    },
    "dlg_quest_timed_progress": {
        "en": "Hurry! The clock is ticking! Defeat those Uruks before time runs out!",
        "zh": "快！时间在流逝！在时间耗尽前击败那些乌鲁克！",
    },
    "dlg_quest_timed_complete": {
        "en": "You did it! And in time too! Now maybe I can catch a fish or two. Here's your reward, and well earned!",
        "zh": "你做到了！而且还赶上了时间！现在也许我能钓到一两条鱼了。这是你的奖励，当之无愧！",
    },

    # --- Dialogue options ---
    "opt_ok": {
        "en": "OK",
        "zh": "好的",
    },
    "opt_for_the_shire": {
        "en": "For the Shire!",
        "zh": "为了夏尔！",
    },
    "opt_thanks": {
        "en": "Thanks!",
        "zh": "谢谢！",
    },
    "opt_thank_you": {
        "en": "Thank you!",
        "zh": "谢谢你！",
    },
    "opt_you_shall_not_pass": {
        "en": "You shall not pass... me!",
        "zh": "你休想……超过我！",
    },
    "opt_open_shop": {
        "en": "Open Shop",
        "zh": "打开商店",
    },
    "opt_farewell": {
        "en": "Farewell",
        "zh": "再见",
    },
    "opt_tell_weapons": {
        "en": "Tell me about weapons",
        "zh": "给我介绍武器",
    },
    "opt_which_best": {
        "en": "Which is best?",
        "zh": "哪个最好？",
    },
    "opt_got_it": {
        "en": "Got it!",
        "zh": "明白了！",
    },
    "opt_heal_me": {
        "en": "Heal me (20G)",
        "zh": "治愈我 (20G)",
    },
    "opt_no_thanks": {
        "en": "No thanks",
        "zh": "不用了",
    },
    "opt_ill_gather": {
        "en": "I'll gather them!",
        "zh": "我去收集！",
    },
    "opt_on_it": {
        "en": "On it!",
        "zh": "马上！",
    },
    "opt_what_lies_beyond": {
        "en": "What lies beyond?",
        "zh": "外面有什么？",
    },
    "opt_just_passing": {
        "en": "Just passing through",
        "zh": "只是路过",
    },
    "opt_for_gondor": {
        "en": "For Gondor!",
        "zh": "为了刚铎！",
    },
    "opt_not_yet": {
        "en": "Not yet, I'll keep going.",
        "zh": "还没有，我继续探索。",
    },
    "opt_any_tips": {
        "en": "Any tips first?",
        "zh": "先给点提示？",
    },
    "opt_safe_travels": {
        "en": "Safe travels!",
        "zh": "旅途平安！",
    },
    "opt_follow_me": {
        "en": "Follow me!",
        "zh": "跟我来！",
    },
    "opt_almost_there": {
        "en": "Almost there!",
        "zh": "快到了！",
    },
    "opt_glad_to_help": {
        "en": "Glad to help!",
        "zh": "乐意效劳！",
    },
    "opt_tell_more": {
        "en": "Tell me more",
        "zh": "告诉我更多",
    },
    "opt_good_luck_sam": {
        "en": "Good luck fishing, Sam!",
        "zh": "祝钓鱼顺利，山姆！",
    },
    "opt_i_see": {
        "en": "I see...",
        "zh": "我明白了……",
    },
    "opt_im_on_it": {
        "en": "I'm on it!",
        "zh": "我这就去！",
    },
    "opt_im_going": {
        "en": "I'm going!",
        "zh": "我走了！",
    },

    # ========================
    #  Quest names and descriptions
    # ========================
    "quest_name_orc": {
        "en": "Orc Incursion",
        "zh": "兽人入侵",
    },
    "quest_desc_orc": {
        "en": "Defeat 5 Orcs in the Fields of Rohan.",
        "zh": "在洛汗平原击败5只兽人。",
    },
    "quest_name_boss": {
        "en": "The Bridge of Khazad-dum",
        "zh": "凯萨督姆之桥",
    },
    "quest_desc_boss": {
        "en": "Defeat the Cave Troll in the Mines of Moria.",
        "zh": "在摩瑞亚矿洞击败洞穴巨魔。",
    },
    "quest_name_collect": {
        "en": "Athelas Gathering",
        "zh": "阿西拉斯采集",
    },
    "quest_desc_collect": {
        "en": "Collect 3 vials of Orc Blood from Orcs in the Fields of Rohan.",
        "zh": "在洛汗平原从兽人身上收集3瓶兽人之血。",
    },
    "quest_name_explore": {
        "en": "Ranger's Survey",
        "zh": "游侠的侦察",
    },
    "quest_desc_explore": {
        "en": "Explore Fangorn Forest, the Mines of Moria, and the Mordor Wastes.",
        "zh": "探索法贡森林、摩瑞亚矿洞和魔多荒原。",
    },
    "quest_name_escort": {
        "en": "Escort to the Shire",
        "zh": "护送回夏尔",
    },
    "quest_desc_escort": {
        "en": "Escort Frodo safely back to Hobbiton.",
        "zh": "安全护送弗罗多回霍比屯。",
    },
    "quest_name_timed": {
        "en": "Uruk-hai Assault",
        "zh": "乌鲁克突袭",
    },
    "quest_desc_timed": {
        "en": "Defeat 3 Uruk-hai archers within 60 seconds!",
        "zh": "在60秒内击败3个乌鲁克弓箭手！",
    },

    # ========================
    #  Exploration zone names
    # ========================
    "zone_fangorn": {
        "en": "Fangorn Forest",
        "zh": "法贡森林",
    },
    "zone_moria": {
        "en": "Mines of Moria",
        "zh": "摩瑞亚矿洞",
    },
    "zone_mordor": {
        "en": "Mordor Wastes",
        "zh": "魔多荒原",
    },

    # ========================
    #  Equipment slot names
    # ========================
    "slot_weapon": {
        "en": "weapon",
        "zh": "武器",
    },
    "slot_armor": {
        "en": "armor",
        "zh": "护甲",
    },
    "slot_accessory": {
        "en": "accessory",
        "zh": "饰品",
    },

    # ========================
    #  Language switching
    # ========================
    "lang_switch_hint": {
        "en": "[L] Language: English",
        "zh": "[L] 语言: 中文",
    },
    "lang_switched": {
        "en": "Language switched to English",
        "zh": "语言已切换为中文",
    },
}


def t(key):
    """Get translated string, fall back to English, then to key itself."""
    import core.settings as settings
    entry = LANG.get(key)
    if not entry:
        return key
    return entry.get(settings.LANGUAGE, entry.get("en", key))


def tf(key, **kwargs):
    """Get translated string and format it."""
    return t(key).format(**kwargs)


def get_item_name(item_id):
    """Get translated item name."""
    return t(f"item_{item_id}")


def get_item_desc(item_id):
    """Get translated item description."""
    return t(f"desc_{item_id}")


def switch_language():
    """Switch language (zh↔en), clear font cache and reload level."""
    import core.settings as settings
    import core.utils as utils
    if settings.LANGUAGE == "zh":
        settings.LANGUAGE = "en"
    else:
        settings.LANGUAGE = "zh"
    # Clear font cache (different fonts needed for zh/en)
    utils._font_cache.clear()
    utils._font_path = None
